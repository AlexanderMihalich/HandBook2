{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Header/Header.js","components/Header/HeaderContainer.js","components/HeaderImage/HeaderImage.js","components/Navbar/Friend/Friend.js","components/Navbar/Navbar.js","components/Navbar/NavbarContainer.js","redux/app-reducer.js","hoc/withSuspense.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","components/Header/Header.module.css","redux/auth-reducer.js","redux/profile-reducer.js","redux/dialogs-reducer.js","img/loader.svg","components/common/Preloader/Preloader.js","api/api.js","utils/object-helpers.js","redux/users-reducer.js","components/HeaderImage/HeaderImage.module.css"],"names":["module","exports","Header","isAuth","login","logout","className","style","header","content","header__logo","alt","src","header__title","header__login","onClick","header__btn","to","HeaderContainer","this","props","React","Component","compose","connect","state","auth","HeaderImage","content__header","Friend","avatar","user","nav__friend","nav__avatar","nav__name","Nav","friendsElement","friends","map","f","id","nav","activeClassName","active","nav__settings","nav__title","nav__friends","sidebarPage","INITIALIZED_SUCCES","initialState","initialized","appReducer","action","type","withSuspense","Suspense","fallback","ProfileContainer","lazy","DialogsContainer","UsersContainer","Login","App","initializeApp","path","render","NavbarContainer","Preloader","app","dispatch","promise","getAuthUserData","Promise","all","then","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","dialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById","SET_USER_DATA","userId","email","setAuthUserData","payload","a","authAPI","me","responce","data","resultCode","password","rememberMe","message","messages","length","stopSubmit","_error","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","posts","img","profile","status","photos","addPost","newPostText","setUserStatus","getUserProfile","profileAPI","getProfile","getUserStatus","getStatus","updateUserStatus","updateStatus","savePhoto","file","newPost","SEND_MESSAGE","dialogs","newMessage","sms","sendMessage","newMessageText","preloader","instance","axios","withCredentials","baseURL","headers","get","put","photoFile","formData","FormData","append","usersAPI","getUsers","currentPage","pageSize","buttonUnfollow","delete","buttonFollow","post","updateObjectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_USERS_TOTAL_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalItemsCount","isFetching","followingInPropgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toogleFolowingProgress","requestUsers","totalCount","count","followUnfollow","aipMethod","actionCreator","unfollow","bind","follow","followed","filter"],"mappings":"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","file":"static/js/main.c82c0752.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1XWDA\",\"active\":\"Navbar_active__3Ug8c\",\"nav__settings\":\"Navbar_nav__settings__1-beN\",\"nav__title\":\"Navbar_nav__title__2DnZU\",\"nav__friends\":\"Navbar_nav__friends__DuMtc\",\"nav__friend\":\"Navbar_nav__friend__1_Ati\",\"nav__avatar\":\"Navbar_nav__avatar__16rdV\",\"nav__name\":\"Navbar_nav__name__1BtB-\"};","import React from 'react'\r\nimport style from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = ({ isAuth, login, logout }) => {\r\n\treturn (\r\n\t\t<header className={style.header}>\r\n\t\t\t<div className={`${style.content} _container`}>\r\n\t\t\t\t<div className={style.header__logo} >\r\n\t\t\t\t\t<img alt=\"\" src='https://image000.flaticon.com/png/512/187/187850.png' />\r\n\t\t\t\t\t<h1 className={style.header__title}>HandBook</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={style.header__login}>\r\n\t\t\t\t\t{isAuth\r\n\t\t\t\t\t\t? <div> {login} - <button onClick={logout} className={style.header__btn}>Log out</button> </div>\r\n\t\t\t\t\t\t: <NavLink to={'/login'} >Login</NavLink>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\nexport default Header","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/auth-reducer'\r\nimport { compose } from 'redux';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Header {...this.props} />\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tlogin: state.auth.login\r\n\t}\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, { logout }))(HeaderContainer)","import React from 'react';\r\nimport style from './HeaderImage.module.css'\r\n\r\nconst HeaderImage = ({ }) => {\r\n\treturn (\r\n\t\t<div className={style.content__header}>\r\n\t\t\t<img alt=\"\" src='https://images.wallpaperscraft.ru/image/palatka_zvezdnoe_nebo_noch_133641_2560x1024.jpg' />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default HeaderImage","import React from 'react'\r\nimport style from './../Navbar.module.css'\r\n\r\nconst Friend = ({ avatar, user }) => {\r\n\r\n\treturn (\r\n\t\t<div className={style.nav__friend}>\r\n\t\t\t<img alt=\"\" className={style.nav__avatar} src={avatar} />\r\n\t\t\t<span className={style.nav__name}>{user}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Friend","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Friend from './Friend/Friend'\r\nimport style from './Navbar.module.css'\r\n\r\nconst Nav = ({ friends }) => {\r\n\r\n\tlet friendsElement = friends.map(f => <Friend avatar={f.avatar} key={f.id} user={f.user} />)\r\n\treturn (\r\n\t\t<nav className={style.nav}>\r\n\t\t\t<ul>\r\n\t\t\t\t<li><NavLink to='/profile'\r\n\t\t\t\t\tactiveClassName={style.active}>Profile</NavLink></li>\r\n\t\t\t\t<li><NavLink to='/dialogs'\r\n\t\t\t\t\tactiveClassName={style.active}>Messages</NavLink></li>\r\n\t\t\t\t<li><NavLink to='/users'\r\n\t\t\t\t\tactiveClassName={style.active}>Users</NavLink></li>\r\n\t\t\t\t<li><NavLink to='/settings'\r\n\t\t\t\t\tactiveClassName={style.active} className={style.nav__settings}>Settings</NavLink></li>\r\n\t\t\t</ul>\r\n\t\t\t<h2 className={style.nav__title}>Best friends:</h2>\r\n\t\t\t<div className={style.nav__friends}>\r\n\t\t\t\t{friendsElement}\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t)\r\n}\r\nexport default Nav","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport Nav from './Navbar'\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfriends: state.sidebarPage\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps)\r\n)(Nav)","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCES = 'INITIALIZED_SUCCES'\r\n\r\nlet initialState = {\r\n\tinitialized: false,\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCES:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializedSucces = () => ({ type: INITIALIZED_SUCCES })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData())\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSucces())\r\n\t})\r\n}\r\n\r\nexport default appReducer","import React from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n\treturn (props) => (\r\n\t\t<React.Suspense fallback={<div>Loading ...</div>}>\r\n\t\t\t<Component />\r\n\t\t</React.Suspense>\r\n\t)\r\n}","import React from 'react';\nimport './css/App.css';\nimport './css/null.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport HeaderImage from './components/HeaderImage/HeaderImage';\nimport { BrowserRouter, Route, withRouter } from 'react-router-dom'\nimport NavbarContainer from './components/Navbar/NavbarContainer';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { withSuspense } from './hoc/withSuspense';\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\nconst Login = React.lazy(() => import('./components/Login/Login'))\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp()\n\t}\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader />\n\t\t}\n\t\treturn (\n\n\t\t\t<BrowserRouter>\n\t\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t<div className='wrapper'>\n\t\t\t\t\t\t<div className='content'>\n\t\t\t\t\t\t\t<HeaderImage />\n\t\t\t\t\t\t\t<div className='content__content _container'>\n\t\t\t\t\t\t\t\t<Route path='/profile/:userId?'\n\t\t\t\t\t\t\t\t\trender={withSuspense(ProfileContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/dialogs'\n\t\t\t\t\t\t\t\t\trender={withSuspense(DialogsContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/users'\n\t\t\t\t\t\t\t\t\trender={withSuspense(UsersContainer)} />\n\t\t\t\t\t\t\t\t<Route path='/login'\n\t\t\t\t\t\t\t\t\trender={withSuspense(Login)} />\n\t\t\t\t\t\t\t\t<NavbarContainer />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</BrowserRouter >\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized\n})\nexport default compose(\n\t// withRouter,\n\tconnect(mapStateToProps, { initializeApp }))(App)\n","let initialState =  [\r\n\t{id: 1, user:'Stiven', avatar:'https://debaty.sumy.ua/wp-content/uploads/2019/01/9_main_new.1506602508.jpg',},\r\n\t{id: 2, user:'Sveta', avatar:'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg',},\r\n\t{id: 3, user:'Makar', avatar:'https://www.mirf.ru/wp-content/uploads/2021/03/avatar-scaled-2560.jpg',},\r\n]\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\t\r\n\treturn state\r\n}\r\n\r\nexport default sidebarReducer\r\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tmessagesPage: dialogsReducer,\r\n\tsidebarPage: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nexport default store\r\nwindow.store = store\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport store from './redux/redux-store'\nimport { Provider } from 'react-redux';\n\n\tReactDOM.render(\n\t\t<Provider store={store}>\n\t\t\t<App/>\n\t\t</Provider>,document.getElementById('root'));\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__24NFi\",\"content\":\"Header_content__2-hIN\",\"header__logo\":\"Header_header__logo__1GrMI\",\"header__title\":\"Header_header__title__DcpeF\",\"header__login\":\"Header_header__login__1GGFR\",\"header__btn\":\"Header_header__btn__2sOSJ\"};","import { authAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth-reducer/SET_USER_DATA'\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet responce = await authAPI.me()\r\n\tif (!responce.data.resultCode) {\r\n\t\tlet { id, email, login } = responce.data.data\r\n\t\tdispatch(setAuthUserData(id, email, login, true))\r\n\t}\r\n}\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\tlet responce = await authAPI.login(email, password, rememberMe)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tlet message = responce.data.messages.length > 0 ? responce.data.messages[0] : \"incorrect email or password\"\r\n\t\tdispatch(stopSubmit(\"login\", { _error: message }))\r\n\t}\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet responce = await authAPI.logout()\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\n\r\nexport default authReducer","import { profileAPI } from '../api/api';\r\nlet ADD_POST = 'profile-reducer/ADD-POST'\r\nlet SET_USER_PROFILE = 'profile-reducer/SET_USER_PROFILE'\r\nlet SET_USER_STATUS = 'profile-reducer/SET_USER_STATUS'\r\nlet SAVE_PHOTO_SUCCESS = 'profile-reducer/SAVE_PHOTO_SUCCESS'\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, img: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', message: \"It's our new program! Hey!\", },\r\n\t\t{ id: 2, img: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', message: \"Hey, why nobody love my?\", },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: '',\r\n\tphotos: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 3,\r\n\t\t\t\timg: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg',\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t}\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn { ...state, profile: action.profile }\r\n\t\tcase SET_USER_STATUS:\r\n\t\t\treturn { ...state, status: action.status }\r\n\t\tcase SAVE_PHOTO_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: { ...state.profile, photos: action.photos }\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tlet responce = await profileAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(responce.data))\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n\tlet responce = await profileAPI.getStatus(userId)\r\n\tdispatch(setUserStatus(responce.data))\r\n}\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n\tlet responce = await profileAPI.updateStatus(status)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(setUserStatus(status))\r\n\t}\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n\tlet responce = await profileAPI.savePhoto(file)\r\n\tif (!responce.data.resultCode) {\r\n\t\tdispatch(savePhotoSuccess(responce.data.data.photos))\r\n\t}\r\n}\r\n\r\nexport default profileReducer","let SEND_MESSAGE = 'dialogs-reducer/SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, user: 'Stiven', avatar: 'https://debaty.sumy.ua/wp-content/uploads/2019/01/9_main_new.1506602508.jpg', },\r\n\t\t{ id: 2, user: 'Victor', avatar: 'https://www.soyuz.ru/public/uploads/files/2/7452690/20201216105432aed6fa04c9.jpg', },\r\n\t\t{ id: 3, user: 'Makar', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/avatar-scaled-2560.jpg', },\r\n\t\t{ id: 4, user: 'Irma', avatar: 'https://sahiwal.tv/wp-content/uploads/2020/06/af4471294d3829d55ac2bedd3b91f4670206ef7d.png', },\r\n\t\t{ id: 5, user: 'Sveta', avatar: 'https://cdnimg.rg.ru/i/gallery/3f26d604/3ad23133.jpg', },\r\n\t\t{ id: 6, user: 'Valera', avatar: 'https://www.mirf.ru/wp-content/uploads/2021/03/mv5bmjixnti1mta0m15bml5banbnxkftztcwnzc3mtuzna._v1_sx1777_cr001777999_al_.jpg', },\r\n\t],\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Hi!', },\r\n\t\t{ id: 2, message: 'How is your study?', },\r\n\t\t{ id: 3, message: 'Yo', },\r\n\t\t{ id: 4, message: 'What Sapp', },\r\n\t\t{ id: 5, message: 'How are you', },\r\n\t\t{ id: 6, message: 'Welcome!', },\r\n\t],\r\n\tnewMessage: [\r\n\t\t{ id: 1, sms: 'It\\'s new sms!', },\r\n\t],\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnewMessage: [...state.newMessage, { id: 2, sms: action.newMessageText, }],\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const sendMessage = (newMessageText) => ({ type: SEND_MESSAGE, newMessageText })\r\n\r\nexport default dialogsReducer\r\n","export default __webpack_public_path__ + \"static/media/loader.6bf0196c.svg\";","import React from 'react'\r\nimport preloader from '../../../img/loader.svg'\r\nimport './Preloader.css'\r\n\r\nlet Preloader = ({ }) => {\r\n\treturn (\r\n\t\t<div className='preloader'>\r\n\t\t\t<img alt=\"\" src={preloader} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Preloader","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n\theaders: {\r\n\t\t\"API-KEY\": \"48f3010c-f192-4caf-b70c-1358b38c2366\"\r\n\t}\r\n})\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, {\r\n\t\t\tstatus: status\r\n\t\t})\r\n\t},\r\n\tsavePhoto(photoFile) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', photoFile)\r\n\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n}\r\n\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonUnfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n\tbuttonFollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`, {})\r\n\t\t\t.then(responce => responce.data)\r\n\t},\r\n}\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t},\r\n\tlogin(email, password, rememberMe = false) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe })\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t},\r\n}","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn { ...u, ...newObjProps }\r\n\t\t}\r\n\t\treturn u\r\n\t})\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\n\r\nlet FOLLOW = 'users-reducer/FOLLOW'\r\nlet UNFOLLOW = 'users-reducer/UNFOLLOW'\r\nlet SET_USERS = 'users-reducer/SET_USERS'\r\nlet SET_CURRENT_PAGE = 'users-reducer/SET_CURRENT_PAGE'\r\nlet SET_USERS_TOTAL_COUNT = 'users-reducer/SET_USERS_TOTAL_COUNT'\r\nlet TOGGLE_IS_FETCHING = 'users-reducer/TOGGLE_IS_FETCHING'\r\nlet TOGGLE_IS_FOLLOWING_PROGRESS = 'users-reducer/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 5,\r\n\ttotalItemsCount: 0,\r\n\tcurrentPage: 2,\r\n\tisFetching: true,\r\n\tfollowingInPropgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n\t\t\t}\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: action.users }\r\n\t\tcase SET_CURRENT_PAGE:\r\n\t\t\treturn { ...state, currentPage: action.currentPage }\r\n\t\tcase SET_USERS_TOTAL_COUNT:\r\n\t\t\treturn { ...state, totalItemsCount: action.count }\r\n\t\tcase TOGGLE_IS_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, followingInPropgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInPropgress, action.userId]\r\n\t\t\t\t\t: state.followingInPropgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setItemsTotalCount = (totalItemsCount) => ({ type: SET_USERS_TOTAL_COUNT, count: totalItemsCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toogleFolowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n\tdispatch(toggleIsFetching(true))\r\n\tlet data = await usersAPI.getUsers(currentPage, pageSize)\r\n\tdispatch(toggleIsFetching(false))\r\n\tdispatch(setUsers(data.items))\r\n\tdispatch(setItemsTotalCount(data.totalCount))\r\n}\r\n\r\nconst followUnfollow = async (dispatch, userId, aipMethod, actionCreator) => {\r\n\tdispatch(toogleFolowingProgress(true, userId))\r\n\tlet data = await aipMethod(userId)\r\n\tif (!data.resultCode) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toogleFolowingProgress(false, userId))\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonUnfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\nexport const follow = (userId) => async (dispatch) => {\r\n\tfollowUnfollow(dispatch, userId, usersAPI.buttonFollow.bind(usersAPI), followSuccess)\r\n}\r\n\r\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content__header\":\"HeaderImage_content__header__1VvFp\"};"],"sourceRoot":""}